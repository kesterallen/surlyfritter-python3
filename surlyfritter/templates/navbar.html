
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="container-fluid">

    <a class="navbar-brand" href="/">Miri, Julia, Linus Pictures</a>

    <button 
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">

        {% if not pictures %}
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false"
               href="#" id="navigationDropdown">
              Navigation
            </a>
            <ul class="dropdown-menu" aria-labelledby="navigationDropdown">
              <li><a class="dropdown-item" href="/random">Random</a></li>
            </ul>
          </li>
        {% else %}
          {% set picture = pictures[0] %}

          <!-- Disable next/prev links for last/first pages -->
          {% set prev_extras = "" if picture.prev_pic else "disabled" %}
          {% set prev_imgp_id = picture.prev_pic.imgp_id if picture.prev_pic else "" %}

          {% set next_extras = "" if picture.next_pic else "disabled" %}
          {% set next_imgp_id = picture.next_pic.imgp_id if picture.next_pic else "" %}

          <li class="nav-item"> <a class="nav-link {{prev_extras}}" id="prev_picture" href="/p/{{prev_imgp_id}}">Previous</a> </li>
          <li class="nav-item"> <a class="nav-link {{next_extras}}" id="next_picture" href="/p/{{next_imgp_id}}">Next</a> </li>
          <li class="nav-item"><a class="nav-link" href="/random">Random</a></li>
  
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false"
               href="#" id="navigationDropdown">
              Navigation
            </a>
            <ul class="dropdown-menu" aria-labelledby="navigationDropdown">
              <li><a class="dropdown-item" href="/p/{{picture.imgp_id}}">This Page</a></li>
              <li><a class="dropdown-item" href="/d/oldest">Oldest</a></li>
              <li><a class="dropdown-item {{prev_extras}}" href="/p/{{prev_imgp_id}}">Previous</a></li>
              <li><a class="dropdown-item {{next_extras}}" href="/p/{{next_imgp_id}}">Next</a></li>
              <li><a class="dropdown-item" href="/random">Random</a></li>
            </ul>
          </li>

          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false"
              href="#" id="timejumpsDropdown">
              Time Jumps
            </a>
            <ul class="dropdown-menu" aria-labelledby="timejumpsDropdown">
              <li><a class="dropdown-item" href="/tj/{{picture.imgp_id}}/2.5">2.5 year later</a></li>
              <li><a class="dropdown-item" href="/tj/{{picture.imgp_id}}/1.0">1 year later</a></li>
              <li><a class="dropdown-item" href="/tj/{{picture.imgp_id}}/-1.0">1 year earlier</a></li>
              <li><a class="dropdown-item" href="/tj/{{picture.imgp_id}}/-2.5">2.5 years earlier</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="/same-age">Same age</a></li>
            </ul>
          </li>
        {% endif %}

        {% if is_admin %}
          {% include 'navbar_admin_section.html' %}
        {% endif %}

        <li class="nav-item">
          {% if is_logged_in %}
            <a href="/logout">
              <img src="{{user_img}}" height="40px" alt="user image, click to log out">
            </a>
          {% endif %}
        </li>
      </ul>
    </div>

  </div>
</nav>
